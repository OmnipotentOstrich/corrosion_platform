import{c as l,o as c,d as s,e as _,w as p,Q as h,ax as f,L as t,S as a,H as u,I as d,ak as v,aI as g,x as w}from"./index-B_YfpHek.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";const y={name:"ResourceDetail",data(){return{resource:{id:1,name:"防腐保温技术规范",description:"最新的防腐保温技术规范和标准，包含详细的施工要求和验收标准",type:"document",category:"标准规范",size:"2.5MB",uploadTime:"2024-10-01",downloads:156,uploader:"张工程师",tags:["技术规范","防腐保温","标准"],notes:"本规范适用于工业设备防腐保温工程的设计、施工和验收。请严格按照规范要求执行，确保工程质量。"},newComment:"",comments:[{id:1,author:"李工程师",time:"2024-10-02 10:30",content:"非常实用的技术规范，感谢分享！"},{id:2,author:"王技术员",time:"2024-10-03 14:20",content:"请问这个规范是否适用于所有类型的防腐工程？"}]}},mounted(){this.loadResourceDetail()},methods:{loadResourceDetail(){const i=this.$route.params.id;console.log("加载资源详情:",i)},getResourceIcon(i){return{document:"fas fa-file-alt",image:"fas fa-image",video:"fas fa-video",software:"fas fa-download",template:"fas fa-file-code"}[i]||"fas fa-file"},downloadResource(){this.$confirm(`确定要下载 ${this.resource.name} 吗？`,"确认下载",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(()=>{this.resource.downloads++,this.$message.success(`开始下载: ${this.resource.name}`)}).catch(()=>{this.$message.info("已取消下载")})},shareResource(){const i=window.location.href;navigator.clipboard.writeText(i).then(()=>{this.$message.success("链接已复制到剪贴板")}).catch(()=>{this.$message.error("复制失败，请手动复制")})},submitComment(){if(!this.newComment.trim()){this.$message.warning("请输入评论内容");return}const i={id:Date.now(),author:"当前用户",time:new Date().toLocaleString(),content:this.newComment};this.comments.push(i),this.newComment="",this.$message.success("评论发表成功")}}},C={class:"resource-detail"},k={class:"detail-header"},x={class:"breadcrumb"},R={class:"resource-info"},D={class:"resource-icon"},T={class:"resource-meta"},B={class:"description"},I={class:"meta-tags"},z={class:"type"},V={class:"category"},N={class:"size"},L={class:"resource-stats"},S={class:"actions"},M={class:"detail-content"},E={class:"content-section"},F={class:"info-grid"},H={class:"info-item"},Q={class:"info-item"},U={class:"info-item"},j={class:"info-item"},q={class:"info-item"},A={class:"info-item"},G={key:0,class:"tags-section"},J={class:"tag-list"},K={key:1,class:"notes-section"},O={class:"notes-content"},P={class:"comments-section"},W={class:"comment-form"},X={class:"comments-list"},Y={class:"comment-header"},Z={class:"comment-author"},$={class:"comment-time"},ss={class:"comment-content"};function es(i,e,os,ts,o,r){const m=h("router-link");return c(),l("div",C,[s("div",k,[s("div",x,[_(m,{to:"/dashboard/resources"},{default:p(()=>[...e[4]||(e[4]=[w("资源管理",-1)])]),_:1}),e[5]||(e[5]=s("span",{class:"separator"},">",-1)),e[6]||(e[6]=s("span",null,"资源详情",-1))]),s("div",R,[s("div",D,[s("i",{class:f(r.getResourceIcon(o.resource.type))},null,2)]),s("div",T,[s("h1",null,t(o.resource.name),1),s("p",B,t(o.resource.description),1),s("div",I,[s("span",z,t(o.resource.type),1),s("span",V,t(o.resource.category),1),s("span",N,t(o.resource.size),1)]),s("div",L,[s("span",null,"上传时间: "+t(o.resource.uploadTime),1),s("span",null,"下载次数: "+t(o.resource.downloads),1),s("span",null,"上传者: "+t(o.resource.uploader),1)])]),s("div",S,[s("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...n)=>r.downloadResource&&r.downloadResource(...n))}," 下载资源 "),s("button",{class:"btn btn-outline",onClick:e[1]||(e[1]=(...n)=>r.shareResource&&r.shareResource(...n))}," 分享 ")])])]),s("div",M,[s("div",E,[e[15]||(e[15]=s("h3",null,"资源信息",-1)),s("div",F,[s("div",H,[e[7]||(e[7]=s("label",null,"文件类型",-1)),s("span",null,t(o.resource.type),1)]),s("div",Q,[e[8]||(e[8]=s("label",null,"文件大小",-1)),s("span",null,t(o.resource.size),1)]),s("div",U,[e[9]||(e[9]=s("label",null,"资源分类",-1)),s("span",null,t(o.resource.category),1)]),s("div",j,[e[10]||(e[10]=s("label",null,"上传时间",-1)),s("span",null,t(o.resource.uploadTime),1)]),s("div",q,[e[11]||(e[11]=s("label",null,"下载次数",-1)),s("span",null,t(o.resource.downloads),1)]),s("div",A,[e[12]||(e[12]=s("label",null,"上传者",-1)),s("span",null,t(o.resource.uploader),1)])]),o.resource.tags?(c(),l("div",G,[e[13]||(e[13]=s("h4",null,"标签",-1)),s("div",J,[(c(!0),l(u,null,d(o.resource.tags,n=>(c(),l("span",{key:n,class:"tag"},t(n),1))),128))])])):a("",!0),o.resource.notes?(c(),l("div",K,[e[14]||(e[14]=s("h4",null,"使用说明",-1)),s("div",O,t(o.resource.notes),1)])):a("",!0)]),s("div",P,[s("h3",null,"评论 ("+t(o.comments.length)+")",1),s("div",W,[v(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=n=>o.newComment=n),placeholder:"写下您的评论...",rows:"3"},null,512),[[g,o.newComment]]),s("button",{class:"btn btn-primary",onClick:e[3]||(e[3]=(...n)=>r.submitComment&&r.submitComment(...n))}," 发表评论 ")]),s("div",X,[(c(!0),l(u,null,d(o.comments,n=>(c(),l("div",{key:n.id,class:"comment"},[s("div",Y,[s("span",Z,t(n.author),1),s("span",$,t(n.time),1)]),s("div",ss,t(n.content),1)]))),128))])])])])}const rs=b(y,[["render",es],["__scopeId","data-v-7a9af0ec"]]);export{rs as default};
