/* empty css             *//* empty css                *//* empty css                 *//* empty css                  */import{u as I,r as u,a as N,c as R,o as S,b as E,d as o,e,w as t,E as U,f as q,g as P,h as A,i as D,j as K,k as M,l as r,t as $,m as j,n as T,p as G,q as H,s as J,v as O,x as c,y as Q,z as W,A as X,B as d}from"./index-B_YfpHek.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"login-container"},ss={class:"login-content"},es={class:"login-info"},os={class:"info-content"},ts={class:"logo-section"},ls={class:"logo-icon"},as={class:"features"},ns={class:"feature-item"},rs={class:"feature-item"},is={class:"feature-item"},ds={class:"login-box"},us={class:"test-login-section"},cs={class:"test-buttons"},ps={class:"login-footer"},fs={__name:"Login",setup(gs){const i=M(),p=I(),m=u(),v=u(!1),b=u(!1),_=u(!1),y=u(!1),a=N({username:"",password:""}),L={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},w=async()=>{if(m.value)try{if(!await m.value.validate())return;v.value=!0;const s=await p.login({username:a.username,password:a.password});s.success&&(s.user.user_type==="enterprise"?i.push("/dashboard/enterprise"):s.user.user_type==="personal"?i.push("/dashboard/personal"):i.push("/dashboard"))}catch(l){console.error("登录失败:",l)}finally{v.value=!1}},V=async()=>{try{b.value=!0,(await p.login({username:"admin",password:"admin123"})).success&&(d.success("管理员登录成功！"),i.push("/dashboard/system"))}catch(l){console.error("管理员登录失败:",l),d.error("管理员登录失败，请检查后端服务是否运行")}finally{b.value=!1}},x=async()=>{try{_.value=!0,(await p.login({username:"enterprise",password:"enterprise123"})).success&&(d.success("企业用户登录成功！"),i.push("/dashboard/enterprise"))}catch(l){console.error("企业用户登录失败:",l),d.error("企业用户登录失败，请检查后端服务是否运行")}finally{_.value=!1}},z=async()=>{try{y.value=!0,(await p.login({username:"user",password:"user123"})).success&&(d.success("个人用户登录成功！"),i.push("/dashboard/personal"))}catch(l){console.error("个人用户登录失败:",l),d.error("个人用户登录失败，请检查后端服务是否运行")}finally{y.value=!1}};return(l,s)=>{const n=U,k=J,h=H,f=D,C=P,B=A,F=K;return S(),R("div",Z,[s[16]||(s[16]=E('<div class="bg-decoration" data-v-43bb27be><div class="bg-circle circle-1" data-v-43bb27be></div><div class="bg-circle circle-2" data-v-43bb27be></div><div class="bg-circle circle-3" data-v-43bb27be></div><div class="bg-wave" data-v-43bb27be></div></div>',1)),o("div",ss,[o("div",es,[o("div",os,[o("div",ts,[o("div",ls,[e(n,{size:"48"},{default:t(()=>[e(r($))]),_:1})]),s[3]||(s[3]=o("h1",null,"防腐保温智能数字平台",-1)),s[4]||(s[4]=o("p",{class:"subtitle"},"Corrosion Protection & Insulation Digital Platform",-1))]),o("div",as,[o("div",ns,[e(n,null,{default:t(()=>[e(r(j))]),_:1}),s[5]||(s[5]=o("span",null,"安全可靠",-1))]),o("div",rs,[e(n,null,{default:t(()=>[e(r(T))]),_:1}),s[6]||(s[6]=o("span",null,"智能分析",-1))]),o("div",is,[e(n,null,{default:t(()=>[e(r(G))]),_:1}),s[7]||(s[7]=o("span",null,"协同管理",-1))])])])]),o("div",ds,[s[15]||(s[15]=o("div",{class:"login-header"},[o("h2",null,"欢迎登录"),o("p",null,"请输入您的账号信息")],-1)),e(C,{ref_key:"loginFormRef",ref:m,model:a,rules:L,class:"login-form",onSubmit:q(w,["prevent"])},{default:t(()=>[e(h,{prop:"username"},{default:t(()=>[e(k,{modelValue:a.username,"onUpdate:modelValue":s[0]||(s[0]=g=>a.username=g),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),e(h,{prop:"password"},{default:t(()=>[e(k,{modelValue:a.password,"onUpdate:modelValue":s[1]||(s[1]=g=>a.password=g),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",onKeyup:O(w,["enter"])},null,8,["modelValue"])]),_:1}),e(h,null,{default:t(()=>[e(f,{type:"primary",size:"large",loading:v.value,onClick:w,class:"login-btn"},{default:t(()=>[...s[8]||(s[8]=[c(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),o("div",us,[e(B,null,{default:t(()=>[...s[9]||(s[9]=[o("span",{class:"divider-text"},"测试登录",-1)])]),_:1}),o("div",cs,[e(f,{type:"success",size:"large",loading:b.value,onClick:V,class:"test-login-btn",plain:""},{default:t(()=>[e(n,null,{default:t(()=>[e(r(Q))]),_:1}),s[10]||(s[10]=c(" 系统管理员 ",-1))]),_:1},8,["loading"]),e(f,{type:"primary",size:"large",loading:_.value,onClick:x,class:"test-login-btn",plain:""},{default:t(()=>[e(n,null,{default:t(()=>[e(r(W))]),_:1}),s[11]||(s[11]=c(" 企业用户 ",-1))]),_:1},8,["loading"]),e(f,{type:"warning",size:"large",loading:y.value,onClick:z,class:"test-login-btn",plain:""},{default:t(()=>[e(n,null,{default:t(()=>[e(r(X))]),_:1}),s[12]||(s[12]=c(" 个人用户 ",-1))]),_:1},8,["loading"])]),s[13]||(s[13]=E('<p class="test-tip" data-v-43bb27be>仅用于开发测试，生产环境请移除</p><div class="test-accounts" data-v-43bb27be><p class="account-tip" data-v-43bb27be>测试账号：</p><p class="account-info" data-v-43bb27be>管理员: admin / admin123</p><p class="account-info" data-v-43bb27be>企业用户: enterprise / enterprise123</p><p class="account-info" data-v-43bb27be>个人用户: user / user123</p></div>',2))]),o("div",ps,[e(F,{type:"primary",onClick:s[2]||(s[2]=g=>l.$router.push("/register"))},{default:t(()=>[...s[14]||(s[14]=[c(" 还没有账号？立即注册 ",-1)])]),_:1})])])])])}}},hs=Y(fs,[["__scopeId","data-v-43bb27be"]]);export{hs as default};
