/* empty css             *//* empty css                  *//* empty css                  *//* empty css                  */import{u as O,r as P,M as f,N as Q,O as X,c,o as a,e,w as t,P as Y,k as Z,Q as $,R as j,d as u,S as B,E as G,l as s,t as K,T as ee,H as h,I as x,J as r,U as te,V as ae,W as E,L as _,X as oe,i as ne,Y as se,Z as le,_ as re,$ as ue,x as m,a0 as de,a1 as ce,a2 as _e,a3 as ie,a4 as me,A as pe,a5 as fe,a6 as he,a7 as ve,a8 as be}from"./index-B_YfpHek.js";import{_ as we}from"./_plugin-vue_export-helper-DlAUqK2U.js";const xe={class:"layout"},Ee={class:"logo"},ge={key:0,class:"logo-icon"},ke={key:1},ye={class:"header-left"},Be={class:"header-right"},Ce={class:"user-info"},Me={class:"username"},Ie={__name:"index",setup(Se){const v=Q(),g=Z(),i=O(),d=P(!1),C=f(()=>d.value?"64px":"200px"),M=f(()=>v.path),I=f(()=>v.matched.filter(n=>n.meta&&n.meta.title).map(n=>({name:n.meta.title,path:n.path}))),S=f(()=>i.menus),D=()=>{d.value=!d.value},N=async b=>{switch(b){case"profile":g.push("/dashboard/profile");break;case"settings":break;case"logout":try{await be.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await i.logout(),g.push("/login")}catch{}break}};return X(v,()=>{},{immediate:!0}),(b,n)=>{const l=G,k=ae,V=te,A=ee,T=j,R=ne,z=ue,H=re,L=ce,w=me,U=ie,W=de,q=oe,F=$("router-view"),J=ve,y=Y;return a(),c("div",xe,[e(y,null,{default:t(()=>[e(T,{width:C.value,class:"sidebar"},{default:t(()=>[u("div",Ee,[d.value?B("",!0):(a(),c("div",ge,[e(l,{size:"24"},{default:t(()=>[e(s(K))]),_:1})])),d.value?B("",!0):(a(),c("span",ke,"防腐保温平台"))]),e(A,{"default-active":M.value,collapse:d.value,"unique-opened":!0,router:"",class:"sidebar-menu"},{default:t(()=>[(a(!0),c(h,null,x(S.value,o=>(a(),c(h,{key:o.id},[o.children&&o.children.length?(a(),r(V,{key:0,index:o.code},{title:t(()=>[e(l,null,{default:t(()=>[(a(),r(E(o.icon)))]),_:2},1024),u("span",null,_(o.name),1)]),default:t(()=>[(a(!0),c(h,null,x(o.children,p=>(a(),r(k,{key:p.id,index:p.url},{default:t(()=>[e(l,null,{default:t(()=>[(a(),r(E(p.icon)))]),_:2},1024),u("span",null,_(p.name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(a(),r(k,{key:1,index:o.url},{default:t(()=>[e(l,null,{default:t(()=>[(a(),r(E(o.icon)))]),_:2},1024),u("span",null,_(o.name),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),e(y,null,{default:t(()=>[e(q,{class:"header"},{default:t(()=>[u("div",ye,[e(R,{type:"text",onClick:D,class:"collapse-btn"},{default:t(()=>[e(l,null,{default:t(()=>[d.value?(a(),r(s(se),{key:0})):(a(),r(s(le),{key:1}))]),_:1})]),_:1}),e(H,{separator:"/"},{default:t(()=>[(a(!0),c(h,null,x(I.value,o=>(a(),r(z,{key:o.path,to:o.path},{default:t(()=>[m(_(o.name),1)]),_:2},1032,["to"]))),128))]),_:1})]),u("div",Be,[e(W,{onCommand:N},{dropdown:t(()=>[e(U,null,{default:t(()=>[e(w,{command:"profile"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(pe))]),_:1}),n[0]||(n[0]=m(" 个人资料 ",-1))]),_:1}),e(w,{command:"settings"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(fe))]),_:1}),n[1]||(n[1]=m(" 系统设置 ",-1))]),_:1}),e(w,{divided:"",command:"logout"},{default:t(()=>[e(l,null,{default:t(()=>[e(s(he))]),_:1}),n[2]||(n[2]=m(" 退出登录 ",-1))]),_:1})]),_:1})]),default:t(()=>[u("div",Ce,[e(L,{size:32,src:s(i).user?.avatar},{default:t(()=>[m(_(s(i).user?.username?.charAt(0)),1)]),_:1},8,["src"]),u("span",Me,_(s(i).user?.username),1),e(l,null,{default:t(()=>[e(s(_e))]),_:1})])]),_:1})])]),_:1}),e(J,{class:"main-content"},{default:t(()=>[e(F)]),_:1})]),_:1})]),_:1})])}}},ze=we(Ie,[["__scopeId","data-v-32fe5ed1"]]);export{ze as default};
